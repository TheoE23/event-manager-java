<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<body>

<div th:fragment="layout(content)"
     style="min-height: 100vh; display: flex; flex-direction: column; font-family: Arial, sans-serif;">

    <!-- GLOBAL RESET -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
        }
    </style>

    <header style="
        background-color: #c0392b;
        padding: 1.5%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: white;
    ">
        <a href="/" style="color:white; font-weight:bold;">Home</a>
        <a href="/events">Events</a>

        <span sec:authorize="isAuthenticated()">
            <a href="/events/new">Create Event</a>
        </span>


        <div>
            <span sec:authorize="hasRole('ADMIN')" style="font-weight:bold;">
            ADMIN
            </span>
        </div>

        <span sec:authorize="hasRole('ADMIN')">
            <a href="/admin">Admin Panel</a>
        </span>

        <div>
            <span sec:authorize="!isAuthenticated()">
                <a href="/login" style="color:white; margin-right:10px;">Login</a>
                <a href="/register" style="color:white;">Register</a>
            </span>

            <span sec:authorize="isAuthenticated()">
                <form th:action="@{/logout}" method="post" style="display:inline;">
                    <button type="submit" style="background:none; border:none; color:white; cursor:pointer;">
                        Logout
                    </button>
                </form>
            </span>
        </div>
    </header>

    <main style="flex: 1; padding: 3%;">
        <div th:replace="${content}"></div>
    </main>

    <footer style="
        background-color: #c0392b;
        color: white;
        text-align: center;
        padding: 1.5%;
    ">
        Event Manager Â© 2025
    </footer>

</div>

</body>
</html>